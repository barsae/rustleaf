// Test string .len() method with new table-driven dispatch

// Basic len() functionality
assert("hello".len() == 5)
assert("".len() == 0)
assert("a".len() == 1)

// Longer strings
assert("RustLeaf Programming Language".len() == 28)

// Unicode characters (each character should count as 1)
assert("cafÃ©".len() == 4)
assert("ðŸš€".len() == 1)

// Test that len is accessible as property (not just method call)
var s = "testing"
var len_method = s.len
assert(len_method() == 7)

// Test chaining - len should be accessible on string literals and variables
var text = "example"
assert(text.len() == 7)
assert("direct".len() == 6)

// Test len on strings with special characters
assert("\n\t\r".len() == 3)
assert("\"quoted\"".len() == 8)

print("All string len tests passed!")