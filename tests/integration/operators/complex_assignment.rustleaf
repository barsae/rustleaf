// Test complex assignment to property access and index access

// Test dict index assignment (bracket notation)
var obj = {"field": 10};
obj["field"] = 20;
assert(obj["field"] == 20);

// Test dict property assignment (dot notation)
var obj2 = {"field": 10};
obj2.field = 30;
assert(obj2.field == 30);

// Test list index assignment
var list = [1, 2, 3];
list[1] = 99;
assert(list[1] == 99);

// Test negative index assignment
var list2 = [1, 2, 3];
list2[-1] = 88;
assert(list2[-1] == 88);

// Test accessing nested structures (but not assignment)
var data = {"items": [10, 20, 30]};
assert(data["items"][1] == 20);

// Test compound assignment (+=, -=, etc.) on dict properties
var counts = {"a": 5, "b": 10};
counts.a += 3;
assert(counts.a == 8);
counts["b"] -= 2;
assert(counts["b"] == 8);

// Test compound assignment on list indices
var nums = [1, 2, 3];
nums[0] *= 5;
assert(nums[0] == 5);
nums[1] /= 2;
assert(nums[1] == 1);