// Test: Class methods can mutate fields on self
class Counter {
    var count = 0;
    
    fn increment() {
        self.count = self.count + 1;
    }
    
    fn add(value) {
        self.count += value;
    }
    
    fn reset() {
        self.count = 0;
    }
    
    fn get_count() {
        self.count
    }
}

var counter = Counter();

// Test initial value
assert(counter.get_count() == 0);

// Test simple mutation
counter.increment();
assert(counter.get_count() == 1);

// Test mutation with parameter
counter.add(5);
assert(counter.get_count() == 6);

// Test another increment
counter.increment();
assert(counter.get_count() == 7);

// Test reset mutation
counter.reset();
assert(counter.get_count() == 0);

// Test compound assignment mutation
counter.add(10);
assert(counter.get_count() == 10);